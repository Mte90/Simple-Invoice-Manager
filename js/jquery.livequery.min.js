/*! Copyright 
 *  (c) 2010, Brandon Aaron (http://brandonaaron.net)
 *  (c) 2012, Alexander Zaytsev (http://hazzik.ru/en)
 * Dual licensed under the MIT (MIT_LICENSE.txt)
 * and GPL Version 2 (GPL_LICENSE.txt) licenses.
 *
 * Version: 1.3.1
 * Requires jQuery 1.3+
 * Docs: http://docs.jquery.com/Plugins/livequery
 */
(function(b){b.extend(b.fn,{livequery:function(d,c){var e=this,f;b.each(a.queries,function(g,h){if(e.selector==h.selector&&e.context==h.context&&(!d||d.$lqguid==h.fn.$lqguid)&&(!c||c.$lqguid==h.fn2.$lqguid)){return(f=h)&&false}});f=f||new a(e.selector,e.context,d,c);f.stopped=false;f.run();return e},expire:function(d,c){var e=this;b.each(a.queries,function(f,g){if(e.selector==g.selector&&e.context==g.context&&(!d||d.$lqguid==g.fn.$lqguid)&&(!c||c.$lqguid==g.fn2.$lqguid)&&!e.stopped){a.stop(g.id)}});return e}});var a=b.livequery=function(c,e,f,d){var g=this;g.selector=c;g.context=e;g.fn=f;g.fn2=d;g.elements=b([]);g.stopped=false;g.id=a.queries.push(g)-1;f.$lqguid=f.$lqguid||a.guid++;if(d){d.$lqguid=d.$lqguid||a.guid++}return g};a.prototype={stop:function(){var c=this;if(c.stopped){return}if(c.fn2){c.elements.each(c.fn2)}c.elements=b([]);c.stopped=true},run:function(){var d=this;if(d.stopped){return}var f=d.elements,c=b(d.selector,d.context),g=c.not(f),e=f.not(c);d.elements=c;g.each(d.fn);if(d.fn2){e.each(d.fn2)}}};b.extend(a,{guid:0,queries:[],queue:[],running:false,timeout:null,checkQueue:function(){if(a.running&&a.queue.length){var c=a.queue.length;while(c--){a.queries[a.queue.shift()].run()}}},pause:function(){a.running=false},play:function(){a.running=true;a.run()},registerPlugin:function(){b.each(arguments,function(d,e){if(!b.fn[e]){return}var c=b.fn[e];b.fn[e]=function(){var f=c.apply(this,arguments);a.run();return f}})},run:function(c){if(c!=undefined){if(b.inArray(c,a.queue)<0){a.queue.push(c)}}else{b.each(a.queries,function(d){if(b.inArray(d,a.queue)<0){a.queue.push(d)}})}if(a.timeout){clearTimeout(a.timeout)}a.timeout=setTimeout(a.checkQueue,20)},stop:function(c){if(c!=undefined){a.queries[c].stop()}else{b.each(a.queries,a.prototype.stop)}}});a.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove","html","prop","removeProp");b(function(){a.play()})})(jQuery);